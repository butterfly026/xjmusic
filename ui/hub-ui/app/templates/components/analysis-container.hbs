<!-- Copyright (c) 2018, XJ Music Inc. (https://xj.io) All Rights Reserved. -->

<div class="container-fluid">
  <div class="row">
    <div class="analysis col-12">

      <div class="do-analysis">
        {{#each types as |type|}}
          <button type="button" class="btn btn-default align-middle {{type}}" {{action 'doAnalysis' type}}>
            {{type}} Analysis
          </button>
        {{/each}}
      </div>

      <div class="loader">&nbsp;</div>

      <div class="result container-fluid">
        {{yield}}

        <!-- meme usage-->
        {{#each-in result.memeUsage as |name usage|}}
          <div class="row">
            <div class="col-12 analyzed-meme-usage">
              {{meme-usage name usage}}
            </div>
          </div>
        {{/each-in}}

        <!-- analyzed chord sequences -->
        {{#each result.chordSequencesByDescriptor as |analyzedChordSequence|}}
          <div class="row">
            <div class="col-12 analyzed-chord-sequence">
              {{chord-sequence-descriptor analyzedChordSequence.descriptor}}
              {{#each analyzedChordSequence.chordSequences as |chordSequence|}}
                {{chord-sequence chordSequence}}
              {{/each}}
            </div>
          </div>
        {{/each}}

      </div>

    </div>
  </div>
</div>