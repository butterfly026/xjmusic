<!-- Copyright (c) 2018, XJ Music Inc. (https://xj.io) All Rights Reserved. -->

<!-- Inner Content -->
{{outlet}}

<!-- Container -->
<div class="form-horizontal container-fluid">

  <!-- Only show list of records if non-empty -->
  {{#if model.chainSequences.length}}

    <!-- List of Records -->
    <div class="col-sm-12">
      <div class="table-list">
        <table class="table">
          <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Action</th>
          </tr>
          </thead>
          <tbody>
          {{#each model.chainSequences as |chainSequence|}}
            <tr>
              <th scope="row">{{chainSequence.sequence.id}}</th>
              <td>{{#link-to "accounts.one.libraries.one.sequences.one"
                             chainSequence.sequence.library.account
                             chainSequence.sequence.library
                             chainSequence.sequence}}{{chainSequence.sequence.name}}{{/link-to}}</td>
              <td>
                <button {{action "removeSequence" chainSequence}}>Remove</button>
              </td>
            </tr>
          {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  {{else}}
    <div class="col-sm-12">
      <p>No particular sequences are bound to this Chain.</p>
    </div>
  {{/if}}

  <!-- Add a Sequence to this Chain -->

  <div class="form-group row">
    <label class="col-sm-2 control-label">Select Sequence to bind</label>
    <div class="col-sm-10">
      <!--input type="text" value=model.newChainSequence.sequenceId class="form-control" autofocus="autofocus"-->
      <!--placeholder="Sequence ID to grant access"}}-->
      {{#power-select
        placeholder="Select Sequence"
        options=model.sequences
        selected=model.sequenceToAdd
        onchange=(action "setSequenceToAdd")
      as |sequence| }}
        {{sequence.name}} (#{{sequence.id}})
      {{/power-select}}
    </div>
  </div>
  <div class="form-group row">
    <div class="offset-sm-2 col-sm-10">
      <button type="submit" class="btn btn-default" {{action 'addSequence' model}}>Bind Sequence to
        Chain
      </button>
    </div>
  </div>

</div>

