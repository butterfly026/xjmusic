<!-- Copyright (c) 2017, XJ Music Inc. (https://xj.io) All Rights Reserved. -->

<!-- Inner Content -->
{{outlet}}

<!-- Container -->
<div class="form-horizontal container-fluid">

  <!-- Only show list of records if non-empty -->
  {{#if model.chainConfigs.length}}

    <!-- List of Records -->
    <div class="col-sm-12">
      <div class="table-list">
        <table class="table">
          <thead>
          <tr>
            <th>#</th>
            <th>Type</th>
            <th>Value</th>
            <th>Action</th>
          </tr>
          </thead>
          <tbody>
          {{#each model.chainConfigs as |chainConfig|}}
            <tr>
              <th scope="row">{{chainConfig.id}}</th>
              <td>{{chainConfig.type}}</td>
              <td>{{chainConfig.value}}</td>
              <td>
                <button {{action "removeConfig" chainConfig}}>Remove</button>
              </td>
            </tr>
          {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  {{else}}
    <div class="col-sm-12">
      <p>This Chain is using the default configuration.</p>
    </div>
  {{/if}}

  <!-- Add a Config to this Chain -->


  <div class="form-group row">
    <label class="col-sm-2 control-label">Bind Config Type</label>
    <div class="col-sm-10">
      <select class="form-control" onchange={{action "selectChainConfigToAddType" value="target.value"}} title="Type">
        {{#if model.chainConfigTypes}}
          <option value="" selected={{eq model.chainConfigToAdd.type ""}}>(select type)</option>
          {{#each model.chainConfigTypes as |type|}}
            <option value={{type}} selected={{eq model.chainConfigToAdd.type type}}>{{type}}</option>
          {{/each}}
        {{else}}
          <option value={{model.chainConfigToAdd.type}} selected>{{model.chainConfigToAdd.type}}</option>
        {{/if}}
      </select>
    </div>
  </div>

  <!-- Value -->
  <div class="form-group row">
    <label class="col-sm-2 control-label">Value</label>
    <div class="col-sm-10">
      {{input type="text" value=model.chainConfigToAdd.value class="form-control" autofocus="autofocus"
              placeholder="The configuration value"}}
    </div>
  </div>

  <div class="form-group row">
    <div class="offset-sm-2 col-sm-10">
      <button type="submit" class="btn btn-default" {{action 'addConfig' model}}>Bind Config to
        Chain
      </button>
    </div>
  </div>

</div>

