<!-- Copyright (c) 2018, XJ Music Inc. (https://xj.io) All Rights Reserved. -->

<!-- Inner Content -->
{{outlet}}

<!-- Upper Container -->
{{#modal-dialog onClickOverlay='goBack'}}
  <div class="form-horizontal container-fluid">

    <!-- Owner (User) -->
    <div class="form-group row">
      <h3>Clone</h3>
    </div>

    <!-- Sequence (Parent) -->
    <div class="form-group row">
      <label class="col-sm-2 control-label">Sequence</label>
      <div class="col-sm-10">
        {{#power-select
          placeholder="Select Sequence"
          options=model.sequences
          selected=model.pattern.sequence
          searchField='name'
          onchange=(action "setPatternSequence")
        as |sequence| }}
          {{sequence.name}} (#{{sequence.id}})
        {{/power-select}}
      </div>
    </div>

    <!-- Type -->
    <div class="form-group row">
      <label class="col-sm-2 control-label">Type</label>
      <div class="col-sm-10">
        {{#if (or (eq model.pattern.sequence.type "Macro") (eq model.pattern.sequence.type "Main"))}}
          <strong>{{model.pattern.type}}</strong>
        {{else}}
          <select class="form-control" onchange={{action "selectPatternType" value="target.value"}} title="Type">
            {{#if config.patternDetailTypes}}
              {{#each config.patternDetailTypes as |type|}}
                <option value={{type}} selected={{eq model.pattern.type type}}>{{type}}</option>
              {{/each}}
            {{else}}
              <option value={{model.pattern.type}} selected>{{model.pattern.type}}</option>
            {{/if}}
          </select>
        {{/if}}
      </div>
    </div>

    <!-- Name -->
    <div class="form-group row">
      <label class="col-sm-2 control-label">Name</label>
      <div class="col-sm-10">
        {{input type="text" value=model.pattern.name class="form-control" autofocus="autofocus"
                placeholder="The name of the Pattern"}}
      </div>
    </div>

    <div class="form-group row">
      <div class="offset-sm-2 col-sm-10">
        <button type="submit" class="btn btn-default" {{action 'clonePattern' model.pattern}}>Clone</button>
      </div>
    </div>
  </div>

{{/modal-dialog}}
