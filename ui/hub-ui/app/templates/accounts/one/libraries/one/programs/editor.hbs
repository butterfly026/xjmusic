<!-- Copyright (c) 2018, XJ Music Inc. (https://xj.io) All Rights Reserved. -->

<div class="container-fluid {{if model.hasDirtyAttributes 'dirty'}}">
  <div class="row headline">
    <div class="col-12">

      <!-- Entity type and ID -->
      <div class="entity">
        {{#if model.id}}
          Program #{{model.id}}
        {{else}}
          New Program
        {{/if}}
      </div>

      <!-- Title -->
      <h1>
        {{#if model.name}}
          {{model.name}}
        {{else}}
          Unnamed Program
        {{/if}}
        <small>
          {{#edit-program-attributes model}}{{fa-icon "edit"}}{{/edit-program-attributes}}
          {{#if model.hasDirtyAttributes}}
            <a class="action commit" {{action 'commit'}}>{{fa-icon "check"}}</a>
            <a class="action revert" {{action 'revert'}}>{{fa-icon "history"}}</a>
          {{else}}
            <a class="action action-destroy" {{action 'destroy'}}>{{fa-icon "times"}}</a>
          {{/if}}
        </small>
      </h1>

    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <a class="btn-lg btn-secondary mt-3 btn-launch" target="_blank" href="/stepmatic/#id={{model.id}}">Open in <strong>Stepmatic</strong> editor</a>
    </div>
  </div>
</div>

<!-- Inner Content -->
{{outlet}}