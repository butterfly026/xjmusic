<a class="action" {{action 'show'}}>{{yield}}</a>

<!-- Modal -->
{{#if isEditModalVisible}}
  {{#modal-dialog}}
    <div class="form-horizontal container-fluid">

      <!-- Owner (User) -->
      <div class="form-group row">
        <label class="col-sm-2 control-label">User</label>
        <div class="col-sm-10">
          <div class="readonly-field">{{model.user.name}}</div>
        </div>
      </div>

      <!-- Parent (Library) -->
      <div class="form-group row">
        <label class="col-sm-2 control-label">Library</label>
        <div class="col-sm-10">
          <div class="readonly-field">{{model.library.name}}</div>
        </div>
      </div>

      <!-- State -->
      <div class="form-group row">
        <label class="col-sm-2 control-label">State</label>
        <div class="col-sm-10">
          <select class="form-control" onchange={{action "setState" value="target.value"}} title="State">
            {{#if config.programStates}}
              {{#each config.programStates as |state|}}
                <option value={{state}} selected={{eq model.state state}}>{{state}}</option>
              {{/each}}
            {{else}}
              <option value={{model.state}} selected>{{model.state}}</option>
            {{/if}}
          </select>
          <!--input state="text" value=model.state class="form-control" autofocus="autofocus"
                  placeholder="The state of the Chain"}} -->
        </div>
      </div>

      <!-- Type -->
      <div class="form-group row">
        <label class="col-sm-2 control-label">Type</label>
        <div class="col-sm-10">
          <select class="form-control" onchange={{action "setType" value="target.value"}} title="Type">
            {{#if config.programTypes}}
              {{#each config.programTypes as |type|}}
                <option value={{type}} selected={{eq model.type type}}>{{type}}</option>
              {{/each}}
            {{else}}
              <option value={{model.type}} selected>{{model.type}}</option>
            {{/if}}
          </select>
          <!--input type="text" value=model.type class="form-control" autofocus="autofocus"
                  placeholder="The type of the Chain"}} -->
        </div>
      </div>

      <!-- Name -->
      <div class="form-group row">
        <label class="col-sm-2 control-label">Name</label>
        <div class="col-sm-10">
          {{input type="text" value=model.name class="form-control" autofocus="autofocus"
                  placeholder="The name of the Program"}}
        </div>
      </div>

      <!-- Key -->
      <div class="form-group row">
        <label class="col-sm-2 control-label">Key</label>
        <div class="col-sm-10">
          {{input type="text" value=model.key class="form-control"
                  placeholder="The key of the Program"}}
        </div>
      </div>

      <!-- Tempo -->
      <div class="form-group row">
        <label class="col-sm-2 control-label">Tempo</label>
        <div class="col-sm-10">
          {{input type="number" step="any" value=model.tempo class="form-control"
                  placeholder="The tempo of the Program"}}
        </div>
      </div>

      <!-- Density -->
      <div class="form-group row">
        <label class="col-sm-2 control-label">Density</label>
        <div class="col-sm-10">
          {{input type="number" step="any" value=model.density class="form-control"
                  placeholder="The density of the Program"}}
        </div>
      </div>

      <div class="form-group row">
        <div class="offset-sm-2 col-sm-10">
          {{#if model.isNew}}
            <button class="btn btn-secondary" {{action 'create'}}>Create</button>
            <button class="btn btn-default" {{action 'cancel'}}>Cancel</button>
          {{else}}
            <button class="btn btn-secondary" {{action 'close'}}>OK</button>
          {{/if}}
        </div>
      </div>

    </div>
  {{/modal-dialog}}
{{/if}}