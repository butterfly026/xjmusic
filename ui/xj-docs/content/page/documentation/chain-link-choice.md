+++
date = "2017-06-19T18:49:24-04:00"
categories = ["craft"]
tags = ["chain","segment","choice"]
slug = "chain-segment-choice"
title = "Chain-Segment Choice"
description = "Music in the XJ platform is fabricated in Chains composed of Segments"
draft = true

+++

Music in the [XJ Music](https://hub.xj.io/login) is stored in Chains comprising of Segments.

In the cloud, worker-bots construct the complex arrangements of events that comprise these Chains.

Work is performed sequentially, one Segment after another. There are layers of work to be performed. First, each Segment is "crafted," then, each Segment is "dubbed."

## Craft: Macro & Main Choices for Segment

In this pattern is described the algorithm by which the Craftworker performs Macro & Main choices for each Segment.

### (A) Segment: Initial

For the first Segment in a Chain.

#### (A.1) Select Macro-Sequence

TODO: implement & document

#### (A.2) Segment Memes, Key, Density & Tempo = from First Pattern of Macro-Sequence

TODO: implement & document

#### (A.3) Select Main-Sequence based on Segment Memes

TODO: implement & document

#### (A.4) Transpose Main-Sequence to Segment Key

TODO: implement & document

#### (A.5) Segment Memes += from First Pattern of Main-Sequence

TODO: implement & document

#### (A.6) Segment Length (# Beats) = from First Pattern of Main-Sequence

TODO: implement & document

#### (A.7) Segment Length Time = Segment Tempo (time per Beat) * Segment Length (# Beats)

TODO: implement & document

### (B) Segment: Continue Main-Sequence

For a sequential Segment in a Chain, when the previous Segment's Main-Sequence has remaining Pattern(s).

#### (B.1) Continue Main-Sequence, if has Pattern remaining

TODO: implement & document

#### (B.2) Segment Key, Density & Tempo = next Pattern of Main-Sequence, transposed to current Pattern of Macro Sequence

TODO: implement & document

#### (B.3) Segment Memes = next Pattern of Main-Sequence + current Pattern of Macro-Sequence

TODO: implement & document

#### (B.4) Segment Length (# Beats) = from current Pattern of Main-Sequence

TODO: implement & document

#### (B.5) Segment Length Time = Segment Tempo (time per Beat) * Segment Length (# Beats)

TODO: implement & document

### (C) Segment: Next Main-Sequence, Continue Macro-Sequence

For a sequential Segment in a Chain, when the previous Segment reached the end of its Main-Sequence.

#### (C.1) Continue Macro-Sequence, if has 2 or more patterns remaining

TODO: implement & document

#### (C.2) Segment Memes, Key, Density & Tempo = from current Pattern of Macro-Sequence

TODO: implement & document

#### (C.3) Select Main-Sequence based on Segment Memes

TODO: implement & document

#### (C.4) Transpose Main-Sequence to Segment Key

TODO: implement & document

#### (C.5) Segment Memes += from First Pattern of Main-Sequence

TODO: implement & document

#### (C.6) Segment Length (# Beats) = from First Pattern of Main-Sequence

TODO: implement & document

#### (C.7) Segment Length Time = Segment Tempo (time per Beat) * Segment Length (# Beats)

TODO: implement & document

### (D) Segment: Next Macro-Sequence

For a sequential Segment in a Chain, when the previous Segment's Macro-Sequence has only one more Pattern remaining.

A Macro-type Sequence must have a minimum of two patterns. The last pattern of the Macro-sequence is never actually used; it is replaced by the first pattern of the next Macro-sequence. However, the next Macro-sequence has been transposed according to the last Macro-sequence's final Pattern.

#### (D.1) first pattern of next Macro-Sequence will overlap (replacing) the last pattern of the current Macro-Sequence

TODO: implement & document

#### (D.2) Select next Macro-Sequence to overlap last pattern of current

TODO: implement & document

#### (D.3) Segment Memes, Key, Density & Tempo = from first Pattern of new Macro-Sequence

TODO: implement & document

#### (D.4) Select Main-Sequence based on Segment Memes

TODO: implement & document

#### (D.5) Transpose Main-Sequence to Segment Key

TODO: implement & document

#### (D.6) Segment Memes += from First Pattern of Main-Sequence

TODO: implement & document

#### (D.7) Segment Length (# Beats) = from First Pattern of Main-Sequence

TODO: implement & document

#### (D.8) Segment Length Time = Segment Tempo (time per Beat) * Segment Length (# Beats)

TODO: implement & document



